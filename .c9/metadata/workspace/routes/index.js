{"filter":false,"title":"index.js","tooltip":"/routes/index.js","undoManager":{"mark":3,"position":3,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":39}},"text":"var logger = require('../util/logger');"},{"action":"insertText","range":{"start":{"row":0,"column":39},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":48,"column":0}},"lines":["var userModel = require('../model/userModel');","var user = new userModel();","","exports.index = function(req, res){","    ","    res.render('index', {});","};","","","","/**"," * リクエストを受け取り、ログインを行う."," * "," * @author niikawa"," * @method login"," * @param {Object} req 画面からのリクエスト"," * @param {Object} res 画面へのレスポンス"," */","exports.login = function(req, res){","    ","    res.render('./login', {});","    ","    /*","    user.login(req.body.mailAddress, req.body.password, ","    ","        function(err, results) {","            if (err) {","                ","            }","            ","            if (results.length === 0) {","                res.redirect('/login');","                ","            } else {","                ","                req.session._id = results[0]._id;","                req.session.name = results[0].name;","                req.session.role = results[0].role;","                req.session.isLogin = true;","            }","        }","    );","    */","};","","exports.logout = function(req, res) {","    "]},{"action":"insertText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":2}},"text":"};"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":4,"column":0},"end":{"row":4,"column":2}},"text":"ex"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":4,"column":0}},"nl":"\n","lines":["var logger = require('../util/logger');","var userModel = require('../model/userModel');","var user = new userModel();",""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":7,"column":0}},"nl":"\n","lines":["ports.index = function(req, res){","    ","    res.render('index', {});","};","","",""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":11,"column":0},"end":{"row":33,"column":0}},"nl":"\n","lines":["    ","    /*","    user.login(req.body.mailAddress, req.body.password, ","    ","        function(err, results) {","            if (err) {","                ","            }","            ","            if (results.length === 0) {","                res.redirect('/login');","                ","            } else {","                ","                req.session._id = results[0]._id;","                req.session.name = results[0].name;","                req.session.role = results[0].role;","                req.session.isLogin = true;","            }","        }","    );","    */"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":14,"column":4},"end":{"row":14,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1407894966133,"hash":"1b0a61fccf054e2fd7349a2b109a611b7c19da2c"}